{% extends "base.html" %}

{% block title %}WebEm | {{page}}{% endblock %}

{% block nav-create %}{% if page == 'Create' %}active{% endif %}{% endblock %}
{% block nav-all %}{% if page == 'All Emulations' %}active{% endif %}{% endblock %}

{% block body %}

<h1>{{page}}</h1>
<form>
	<div class="control-group" id="page_to_emulate">
		<legend>Page to Emulate</legend>
		<label>Page's URL:</label>
		<input class="input-block-level" id="url" type="text" placeholder="http://google.com/" value="{{testURL}}">
		<span class="help-block hide">Required</span>
	</div>
	<div class="control-group">
		<label>Original Page's HTML:</label>
		<textarea class="input-block-level" id="original_html_input" placeholder="<html><head><title></title></head><body></body></html>" rows="5">{{testHTML}}</textarea>
		<span class="help-block"></span>
	</div>
	<div class="control-group">
		<span class="help-block">Options are available to <a href="#">change patterns</a> for find and replace.</span>
		<button type="submit" id="absolutify" class="btn">Make URLs absolute</button>
	</div>
	<br>
	<div class="hide" id="modified_html">
		<div class="control-group" id="modified_html_group">
			<legend>Edit Page</legend>
			<label>Modified HTML:</label>
			<span class="help-block hide">Required</span>
			<textarea class="input-block-level" id="modified_html_input" rows="15"></textarea>
		</div>
		<div class="control-group" id="name_group">
			<legend>Save Emulation</legend>	
			<label>Description of emulation:</label>
			<input class="input span4" type="text" id="name" placeholder="Client's helper page for project 'Spring Design' ">
			<span class="help-block hide">Required</span>
		</div>
		<div class="control-group">
			<label>Save:</label>
			<div class="alert hide">
			  <button type="button" class="close" data-dismiss="alert">&times;</button>
			  <strong>Error! Emulation could not be saved.</strong> Please contact the administrator to see if something's wrong with the database. Some types of databases setups don't support certain characters, so you can also try removing non-latin based characters.
			</div>
			<button type="submit" id="save" class="btn btn-primary">Save Emulation</button>
			<button type="submit" id="cancel" class="btn">Cancel</button>
		</div>
	</div>
</form>

<div class="modal fade hide" id="create_success">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Emulation Created Successfully</h3>
  </div>
  <div class="modal-body">

    <p id="modal_text"> 
    	Id: <span id="new_emulation_id"></span> <br>
    	Name: <span id="new_emulation_name"></span><br>
    	Original Page's URL: <span id="new_emulation_url"></span><br>
    	Link to emulation: <br><span id="new_emulation_link" target="_blank" href="#"></span><br>
    </p>
  </div>
  <div class="modal-footer">
    <a href="#" id="edit_emulation" class="btn">Edit emulation</a>
    <a href="/all" class="btn">Return to all</a>
    <a href="#" id="delete_emulation" class="btn btn-danger">Delete emulation</a>
    <a href="#" id="view_emulation" target="_blank" class="btn btn-primary delete_button">View Emulation</a>
  </div>
</div>

<div class="modal hide fade" id="emulation_deleted">
  <div class="modal-body">
    <p id="modal_text">Emulation deleted</p>
  </div>
  <div class="modal-footer">
    <a href="#" id="confirm_deleted" class="btn btn-primary">OK</a>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script src="/static/js/jquery.scrollTo-1.4.3.1-min.js"></script>
<script src="/static/js/create.js"></script>
{% endblock %}